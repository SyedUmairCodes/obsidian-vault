Welcome to Lesson 3 of Module 4 on basic query formulation with SQL. I'm going to start with a fundamental question for you about query formulation. This question is so fundamental that you should be able to answer it in your sleep. Why is the join operator so important in query formulation? This lesson focuses on understanding the join operator. Select statement examples will be covered in the next lesson. Because the join operator is so important, you need to understand it before using it in select statements. This lesson has practical objectives for you, related to understanding the join operator. You should be able to create the result of a join operation on sample tables. You should also be able to explain the components of the natural join operator, an important variant of the join operator. I'm going to start with a demonstration of the natural join operator using sample tables. The natural join operator is a common, and important variation of the join operator. You will see derivation of rows in the result. I'm using very small tables, few columns and rows to focus on the essential ideas. Using sample tables is useful to understand the join operator and sometimes useful to understand difficult query formulation problems. This example begins with two-sample tables, offering and faculty. These tables will be combined in the Fac number column. Note that the Fac number column has the same unqualified name in both tables. Unqualified means the column name alone without the table. Combining tables on the combination of a primary key and foreign key with the same unqualified name is very common. Let's move forward on the example to combine rows. The first offering row combines with the first faculty row in the first result row as they have an identical value for Fac number 111-11-1111. In the result, the offer number column comes from the offering table and the FacName column comes from the faculty table. The Fac number column can come from either table as the Fac number value will always be the same from either table with the requirement for equal values. The natural join operator requires that only one join column is retained in result to avoid confusion with the duplicate column. The second offering row combines with the second faculty row as both rows have an identical value for Fac number 222-22-2222.
Play video starting at :3:5 and follow transcript3:05
The second result row combines a second offering row and second faculty row. In the third result row, the third offering row combines with the first faculty row as both rows have an identical FacNo value, 111-11-1111. Note that the third faculty row, SARA, does not participate in the result. The third faculty row may represent a research faculty, or newly hired faculty. To gain understanding, I encourage you to repeat this exercise yourself using your own small sample tables. Join is the most widely used operator for combining tables. Because most databases have many tables, combining tables is important. A typical business database may contain hundreds of tables. In most queries, at least several tables must be combined, sometimes 10 or more tables. Join is the most common operator for combining tables, perhaps 95 percent of combining operations. Every day, businesses use perhaps millions of join operations to support decision-making in operations. To a large extent, your skill in retrieving useful data will depend on your ability to use the join operator. The join operator builds a new table by combining rows from two tables that match on a join condition. Typically the join condition specifies that two rows have an identical value in one or more columns. When the join operator involves equality, the join is known as an equi-join for equality join. Combining tables using a condition in which the primary key of a parent row equals the foreign key of a child table is the most common join condition. The natural join operator is the most common join operation. In a natural join operation, the join condition is equality, that is equi-join, one of the join columns is removed, and the join columns have the same unqualified name. Typically the join columns are a combination of primary key and foreign key. Earlier in this lesson, you saw the natural join operator applied to small sample tables. This select statement has a natural join operator, but you will not use it in examples in later lessons. The natural join operator emits specification of join columns, making a statement more difficult to read. In addition, the natural join operator uses join conditions on all common columns in both tables. Sometimes two tables have multiple column names with the same unqualified names, not just the intended join columns. When formulating problems involving the join operator, typically used to combine tables, you should know the relationships in a database diagram. The university database was covered in previous modules so you should be familiar with it. You can use the database diagram to help determine join operations. To combine the student enrollment tables, you should use a natural join operation using student dot stud number as a primary key and enrollment dot stud number as a foreign key. All columns from both tables will be in the result, except for either student dot stud number or enrollment dot stud number. Although the natural join operator works on pairs of tables, you can combine multiple tables using more than one natural join operation. For example, to combine the student enrollment and offering tables, you can perform a natural join operation on student enrollment and then perform a second natural join operation with the result and the offering table. You will gain plenty of practice with combining multiple tables in subsequent lessons. A database diagram is essential when combining more than two tables. Let's wrap up this lesson that presented the join operator with special emphasis on important variant known as the natural join. The join operator is essential because business databases typically have many tables. Extracting useful information typically requires more than one table, sometimes many tables combined with the join operator. You should try the simple exercise in this lesson on your own sample tables. You can use the same sample tables and create new rows if you like. Other lessons in this module, and the next module will give you lots of practice with join operations in SQL. You will not use a natural join operator as explicit specification is easier to read.