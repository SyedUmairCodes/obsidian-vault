Welcome to lesson four of module five. An extended query formulation with SQL. I am going to start with an important question to check your understanding of the traditional set operators. The subject of this lesson, what is the difference between the joint operator and the traditional set operators when matching rows?
Play video starting at ::33 and follow transcript0:33
The first three lessons of module five provided guidelines for query formulation and usage of the guidelines and more realistic problems involving joins and grouping. This lesson covers the usage of traditional set operators in the SELECT statement to prepare some usage of these operators in course three. The objectives in this lesson relate to usage of the traditional set operators in the SELECT statement. You should be able to explain the union compatibility requirement in the manner of matching rows for the traditional set operators. You should be able to write SQL SELECT statements using the UNION operator, the most important traditional set operator for query formulation.
Play video starting at :1:18 and follow transcript1:18
The union intersection and difference table operators or like the traditional set operators. The traditional set operators are used to determine all members of two sets as the union, common members of two sets, the intersection and members unique to only one set. The difference as depicted in these Venn diagrams. The traditional set operators assume that members of different sets can be compared to see if they're identical. When applying the traditional set operators to tables, rows of a table are considered as members of a set.
Play video starting at :1:57 and follow transcript1:57
Compatibility is an important concept to apply the traditional set operators, the tables. Union compatibility means that each table must have the same number of columns and each corresponding column must have a compatible data type. Union compatibility can be confusing because it involves positional correspondence of columns. That is, the first column of the two tables, must have compatible data types. The second columns must have compatible data types and so on. In practice, compatible data types mean the corresponding columns to the same data type, except for perhaps for the length specification. Both tables in operation using a traditional set operator, must be union compatible because all columns are compared. In contrast, the joint operator involves a condition usually on a single column from each table. Thus, traditional set operators matching all columns compared the joint operator matching on a single column in most cases. Because few tables are union compatible, the traditional set operators are typically applied to a subset of the columns at each table. The Union compatibility requirement reduces the usage of the traditional set operators. Compared to the joint operator, the set operators are not widely used. However, set operators have some important specialized uses. The Union operator can be used to combine tables distributed over multiple locations. In course three, you will see examples of the UNION operator applied to tables containing summary data. The remainder of this lesson will present three simple examples of the Union intersection and difference operators in the SELECT statement. The traditional set operators are applied to query blocks, separate SQL statements combined to make them complete SELECT statement using the set operators.
Play video starting at :4:2 and follow transcript4:02
Example one shows a SELECT statement with the UNION operator. The UNION keyword applies to two query blocks. East query block is a separate SELECT statement with four columns. Each corresponding column is compatible, for example, FactNo in the first query block is compatible to studentNo, in the second query block. FactFirstName in the first query block is compatible to StdFirstName in the second query block and so on. Renaming the result columns, provides meaningful names in the result table. Example two shows a SELECT statement with the intersect operator, just like the UNION operator, the intersect operator applies to to query blocks. The query blocks are identical and structure as an example one. The intersect operator requires UNION compatibility, just like the UNION operator. Example three shows a SELECT statement with the EXCEPT keyword for the different set operator. Just like the UNION keyword, the EXCEPT keyword applies to two query blocks. The query blocks are identical in structure as an example one. The EXCEPT keyword requires UNION compatibility, just like a union keyword. Note that example three only executes in Postgres SQL is oracle uses the minus key word instead. Postgres SQL conforms the SQL standard with the EXCEPT keyword. Unlike the UNION intersect operators, the minus operator is not symmetric. Thus, table one except table two is not typically the same as table two EXCEPT table one. Example three shows that faculty EXCEPT student produces five rows as a faculty table contains six rows with one row common to the student table. In contrast, student EXCEPT faculty, produces 10 rows as a student table contains 11 rows, with one row in common with the faculty table. Let's wrap up lesson four that using traditional set operators in SELECT statements. The traditional set operators are specialized because they require union compatible tables. Matching rows with a traditional set operator involved matching all columns on each table, not just matching on a single column, as done with the joint operator. This lesson provided examples using the UNION intersect and EXCEPT keywords in the select statement. Oracle uses the minus key word instead of the EXCEPT keyword. These keywords are applied to query blocks, separate SELECT statements combined by a set operator to create a complete SELECT statement. In course three, you will see some specialized uses of the UNION operator for tables containing summary data. The UNION operator has important usage for distributed and partition databases to combine identical tables in different locations or partitions.